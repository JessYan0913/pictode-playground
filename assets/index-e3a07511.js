import{d as V,r as P,c as k,m as ne,g as s,ae as re,u as F,p as xe,w as se,q as Oe,v as Ae,h as I,H as ue,F as ie,t as L,o as we,a as $e,f as Z,b as J,P as B,N as M,k as fe,i as ce,j as T,T as Q,a0 as Le,a7 as W,R as K,W as Se,L as ee,Y as te,G as Ve,$ as he,X as Ne}from"./index-67bd1663.js";import{c as De,l as q,V as Re,a as je,E as qe,y as ze,b as Ge,n as Pe,p as We,d as H}from"./use-root-containers-441f517a.js";var Ke=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ke||{});let ke=Symbol("PopoverContext");function de(t){let e=ce(ke,null);if(e===null){let o=new Error(`<${t} /> is missing a parent <${Me.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,de),o}return e}let Ye=Symbol("PopoverGroupContext");function Ee(){return ce(Ye,null)}let Ce=Symbol("PopoverPanelContext");function Xe(){return ce(Ce,null)}let Me=V({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:o,expose:n}){var l;let a=P(null);n({el:a,$el:a});let i=P(1),c=P(null),x=P(null),w=P(null),b=P(null),E=k(()=>ne(a)),C=k(()=>{var r,d;if(!s(c)||!s(b))return!1;for(let D of document.querySelectorAll("body > *"))if(Number(D==null?void 0:D.contains(s(c)))^Number(D==null?void 0:D.contains(s(b))))return!0;let v=re(),$=v.indexOf(s(c)),N=($+v.length-1)%v.length,Be=($+1)%v.length,_e=v[N],Fe=v[Be];return!((r=s(b))!=null&&r.contains(_e))&&!((d=s(b))!=null&&d.contains(Fe))}),f={popoverState:i,buttonId:P(null),panelId:P(null),panel:b,button:c,isPortalled:C,beforePanelSentinel:x,afterPanelSentinel:w,togglePopover(){i.value=F(i.value,{0:1,1:0})},closePopover(){i.value!==1&&(i.value=1)},close(r){f.closePopover();let d=(()=>r?r instanceof HTMLElement?r:r.value instanceof HTMLElement?s(r):s(f.button):s(f.button))();d==null||d.focus()}};xe(ke,f),De(k(()=>F(i.value,{0:q.Open,1:q.Closed})));let A={buttonId:f.buttonId,panelId:f.panelId,close(){f.closePopover()}},S=Ee(),h=S==null?void 0:S.registerPopover,[m,p]=Re(),u=je({mainTreeNodeRef:S==null?void 0:S.mainTreeNodeRef,portals:m,defaultContainers:[c,b]});function g(){var r,d,v,$;return($=S==null?void 0:S.isFocusWithinPopoverGroup())!=null?$:((r=E.value)==null?void 0:r.activeElement)&&(((d=s(c))==null?void 0:d.contains(E.value.activeElement))||((v=s(b))==null?void 0:v.contains(E.value.activeElement)))}return se(()=>h==null?void 0:h(A)),qe((l=E.value)==null?void 0:l.defaultView,"focus",r=>{var d,v;r.target!==window&&r.target instanceof HTMLElement&&i.value===0&&(g()||c&&b&&(u.contains(r.target)||(d=s(f.beforePanelSentinel))!=null&&d.contains(r.target)||(v=s(f.afterPanelSentinel))!=null&&v.contains(r.target)||f.closePopover()))},!0),ze(u.resolveContainers,(r,d)=>{var v;f.closePopover(),Oe(d,Ae.Loose)||(r.preventDefault(),(v=s(c))==null||v.focus())},k(()=>i.value===0)),()=>{let r={open:i.value===0,close:f.close};return I(ie,[I(p,{},()=>ue({theirProps:{...t,...o},ourProps:{ref:a},slot:r,slots:e,attrs:o,name:"Popover"})),I(u.MainTreeNode)])}}}),Ue=V({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${L()}`}},inheritAttrs:!1,setup(t,{attrs:e,slots:o,expose:n}){let l=de("PopoverButton"),a=k(()=>ne(l.button));n({el:l.button,$el:l.button}),we(()=>{l.buttonId.value=t.id}),$e(()=>{l.buttonId.value=null});let i=Ee(),c=i==null?void 0:i.closeOthers,x=Xe(),w=k(()=>x===null?!1:x.value===l.panelId.value),b=P(null),E=`headlessui-focus-sentinel-${L()}`;w.value||se(()=>{l.button.value=b.value});let C=Ge(k(()=>({as:t.as,type:e.type})),b);function f(u){var g,r,d,v,$;if(w.value){if(l.popoverState.value===1)return;switch(u.key){case T.Space:case T.Enter:u.preventDefault(),(r=(g=u.target).click)==null||r.call(g),l.closePopover(),(d=s(l.button))==null||d.focus();break}}else switch(u.key){case T.Space:case T.Enter:u.preventDefault(),u.stopPropagation(),l.popoverState.value===1&&(c==null||c(l.buttonId.value)),l.togglePopover();break;case T.Escape:if(l.popoverState.value!==0)return c==null?void 0:c(l.buttonId.value);if(!s(l.button)||(v=a.value)!=null&&v.activeElement&&!(($=s(l.button))!=null&&$.contains(a.value.activeElement)))return;u.preventDefault(),u.stopPropagation(),l.closePopover();break}}function A(u){w.value||u.key===T.Space&&u.preventDefault()}function S(u){var g,r;t.disabled||(w.value?(l.closePopover(),(g=s(l.button))==null||g.focus()):(u.preventDefault(),u.stopPropagation(),l.popoverState.value===1&&(c==null||c(l.buttonId.value)),l.togglePopover(),(r=s(l.button))==null||r.focus()))}function h(u){u.preventDefault(),u.stopPropagation()}let m=Pe();function p(){let u=s(l.panel);if(!u)return;function g(){F(m.value,{[H.Forwards]:()=>B(u,M.First),[H.Backwards]:()=>B(u,M.Last)})===Q.Error&&B(re().filter(r=>r.dataset.headlessuiFocusGuard!=="true"),F(m.value,{[H.Forwards]:M.Next,[H.Backwards]:M.Previous}),{relativeTo:s(l.button)})}g()}return()=>{let u=l.popoverState.value===0,g={open:u},{id:r,...d}=t,v=w.value?{ref:b,type:C.value,onKeydown:f,onClick:S}:{ref:b,id:r,type:C.value,"aria-expanded":l.popoverState.value===0,"aria-controls":s(l.panel)?l.panelId.value:void 0,disabled:t.disabled?!0:void 0,onKeydown:f,onKeyup:A,onClick:S,onMousedown:h};return I(ie,[ue({ourProps:v,theirProps:{...e,...d},slot:g,attrs:e,slots:o,name:"PopoverButton"}),u&&!w.value&&l.isPortalled.value&&I(Z,{id:E,features:J.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:p})])}}}),Ze=V({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${L()}`}},inheritAttrs:!1,setup(t,{attrs:e,slots:o,expose:n}){let{focus:l}=t,a=de("PopoverPanel"),i=k(()=>ne(a.panel)),c=`headlessui-focus-sentinel-before-${L()}`,x=`headlessui-focus-sentinel-after-${L()}`;n({el:a.panel,$el:a.panel}),we(()=>{a.panelId.value=t.id}),$e(()=>{a.panelId.value=null}),xe(Ce,a.panelId),se(()=>{var h,m;if(!l||a.popoverState.value!==0||!a.panel)return;let p=(h=i.value)==null?void 0:h.activeElement;(m=s(a.panel))!=null&&m.contains(p)||B(s(a.panel),M.First)});let w=We(),b=k(()=>w!==null?(w.value&q.Open)===q.Open:a.popoverState.value===0);function E(h){var m,p;switch(h.key){case T.Escape:if(a.popoverState.value!==0||!s(a.panel)||i.value&&!((m=s(a.panel))!=null&&m.contains(i.value.activeElement)))return;h.preventDefault(),h.stopPropagation(),a.closePopover(),(p=s(a.button))==null||p.focus();break}}function C(h){var m,p,u,g,r;let d=h.relatedTarget;d&&s(a.panel)&&((m=s(a.panel))!=null&&m.contains(d)||(a.closePopover(),((u=(p=s(a.beforePanelSentinel))==null?void 0:p.contains)!=null&&u.call(p,d)||(r=(g=s(a.afterPanelSentinel))==null?void 0:g.contains)!=null&&r.call(g,d))&&d.focus({preventScroll:!0})))}let f=Pe();function A(){let h=s(a.panel);if(!h)return;function m(){F(f.value,{[H.Forwards]:()=>{var p;B(h,M.First)===Q.Error&&((p=s(a.afterPanelSentinel))==null||p.focus())},[H.Backwards]:()=>{var p;(p=s(a.button))==null||p.focus({preventScroll:!0})}})}m()}function S(){let h=s(a.panel);if(!h)return;function m(){F(f.value,{[H.Forwards]:()=>{let p=s(a.button),u=s(a.panel);if(!p)return;let g=re(),r=g.indexOf(p),d=g.slice(0,r+1),v=[...g.slice(r+1),...d];for(let $ of v.slice())if($.dataset.headlessuiFocusGuard==="true"||u!=null&&u.contains($)){let N=v.indexOf($);N!==-1&&v.splice(N,1)}B(v,M.First,{sorted:!1})},[H.Backwards]:()=>{var p;B(h,M.Previous)===Q.Error&&((p=s(a.button))==null||p.focus())}})}m()}return()=>{let h={open:a.popoverState.value===0,close:a.close},{id:m,focus:p,...u}=t,g={ref:a.panel,id:m,onKeydown:E,onFocusout:l&&a.popoverState.value===0?C:void 0,tabIndex:-1};return ue({ourProps:g,theirProps:{...e,...u},attrs:e,slot:h,slots:{...o,default:(...r)=>{var d;return[I(ie,[b.value&&a.isPortalled.value&&I(Z,{id:c,ref:a.beforePanelSentinel,features:J.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:A}),(d=o.default)==null?void 0:d.call(o,...r),b.value&&a.isPortalled.value&&I(Z,{id:x,ref:a.afterPanelSentinel,features:J.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S})])]}},features:fe.RenderStrategy|fe.Static,visible:b.value,name:"PopoverPanel"})}}});const O=(t,e=0,o=1)=>t>o?o:t<e?e:t,y=(t,e=0,o=Math.pow(10,e))=>Math.round(o*t)/o,Je=t=>ot(oe(t)),oe=t=>(t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?y(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?y(parseInt(t.substring(6,8),16)/255,2):1}),Qe=t=>tt(et(t)),He=({h:t,s:e,v:o,a:n})=>{const l=(200-e)*o/100;return{h:y(t),s:y(l>0&&l<200?e*o/100/(l<=100?l:200-l)*100:0),l:y(l/2),a:y(n,2)}},le=t=>{const{h:e,s:o,l:n}=He(t);return`hsl(${e}, ${o}%, ${n}%)`},Y=t=>{const{h:e,s:o,l:n,a:l}=He(t);return`hsla(${e}, ${o}%, ${n}%, ${l})`},et=({h:t,s:e,v:o,a:n})=>{t=t/360*6,e=e/100,o=o/100;const l=Math.floor(t),a=o*(1-e),i=o*(1-(t-l)*e),c=o*(1-(1-t+l)*e),x=l%6;return{r:y([o,i,a,a,c,o][x]*255),g:y([c,o,o,i,a,a][x]*255),b:y([a,a,c,o,o,i][x]*255),a:y(n,2)}},R=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},tt=({r:t,g:e,b:o,a:n})=>{const l=n<1?R(y(n*255)):"";return"#"+R(t)+R(e)+R(o)+l},ot=({r:t,g:e,b:o,a:n})=>{const l=Math.max(t,e,o),a=l-Math.min(t,e,o),i=a?l===t?(e-o)/a:l===e?2+(o-t)/a:4+(t-e)/a:0;return{h:y(60*(i<0?i+6:i)),s:y(l?a/l*100:0),v:y(l/255*100),a:n}},Ie=(t,e)=>{if(t===e)return!0;for(const o in t)if(t[o]!==e[o])return!1;return!0},lt=(t,e)=>t.toLowerCase()===e.toLowerCase()?!0:Ie(oe(t),oe(e)),ge={},Te=t=>{let e=ge[t];return e||(e=document.createElement("template"),e.innerHTML=t,ge[t]=e),e},pe=(t,e,o)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};let _=!1;const ae=t=>"touches"in t,at=t=>_&&!ae(t)?!1:(_||(_=ae(t)),!0),be=(t,e)=>{const o=ae(e)?e.touches[0]:e,n=t.el.getBoundingClientRect();pe(t.el,"move",t.getMove({x:O((o.pageX-(n.left+window.pageXOffset))/n.width),y:O((o.pageY-(n.top+window.pageYOffset))/n.height)}))},nt=(t,e)=>{const o=e.keyCode;o>40||t.xy&&o<37||o<33||(e.preventDefault(),pe(t.el,"move",t.getMove({x:o===39?.01:o===37?-.01:o===34?.05:o===33?-.05:o===35?1:o===36?-1:0,y:o===40?.01:o===38?-.01:0},!0)))};class ve{constructor(e,o,n,l){const a=Te(`<div role="slider" tabindex="0" part="${o}" ${n}><div part="${o}-pointer"></div></div>`);e.appendChild(a.content.cloneNode(!0));const i=e.querySelector(`[part=${o}]`);i.addEventListener("mousedown",this),i.addEventListener("touchstart",this),i.addEventListener("keydown",this),this.el=i,this.xy=l,this.nodes=[i.firstChild,i]}set dragging(e){const o=e?document.addEventListener:document.removeEventListener;o(_?"touchmove":"mousemove",this),o(_?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!at(e)||!_&&e.button!=0)return;this.el.focus(),be(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),be(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":nt(this,e);break}}style(e){e.forEach((o,n)=>{for(const l in o)this.nodes[n].style.setProperty(l,o[l])})}}class rt extends ve{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:le({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${y(e)}`)}getMove(e,o){return{h:o?O(this.h+e.x*360,0,360):360*e.x}}}class st extends ve{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:le(e)},{"background-color":le({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${y(e.s)}%, Brightness ${y(e.v)}%`)}getMove(e,o){return{s:o?O(this.hsva.s+e.x*100,0,100):e.x*100,v:o?O(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const ut=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',it="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",ct="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",j=Symbol("same"),X=Symbol("color"),me=Symbol("hsva"),U=Symbol("update"),ye=Symbol("parts"),z=Symbol("css"),G=Symbol("sliders");class dt extends HTMLElement{static get observedAttributes(){return["color"]}get[z](){return[ut,it,ct]}get[G](){return[st,rt]}get color(){return this[X]}set color(e){if(!this[j](e)){const o=this.colorModel.toHsva(e);this[U](o),this[X]=e}}constructor(){super();const e=Te(`<style>${this[z].join("")}</style>`),o=this.attachShadow({mode:"open"});o.appendChild(e.content.cloneNode(!0)),o.addEventListener("move",this),this[ye]=this[G].map(n=>new n(o))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,o,n){const l=this.colorModel.fromAttr(n);this[j](l)||(this.color=l)}handleEvent(e){const o=this[me],n={...o,...e.detail};this[U](n);let l;!Ie(n,o)&&!this[j](l=this.colorModel.fromHsva(n))&&(this[X]=l,pe(this,"color-changed",{value:l}))}[j](e){return this.color&&this.colorModel.equal(e,this.color)}[U](e){this[me]=e,this[ye].forEach(o=>o.update(e))}}class pt extends ve{constructor(e){super(e,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(e){this.hsva=e;const o=Y({...e,a:0}),n=Y({...e,a:1}),l=e.a*100;this.style([{left:`${l}%`,color:Y(e)},{"--gradient":`linear-gradient(90deg, ${o}, ${n}`}]);const a=y(l);this.el.setAttribute("aria-valuenow",`${a}`),this.el.setAttribute("aria-valuetext",`${a}%`)}getMove(e,o){return{a:o?O(this.hsva.a+e.x):e.x}}}const vt=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`;class ft extends dt{get[z](){return[...super[z],vt]}get[G](){return[...super[G],pt]}}const ht={defaultColor:"#0001",toHsva:Je,fromHsva:Qe,equal:lt,fromAttr:t=>t};class gt extends ft{get colorModel(){return ht}}class bt extends gt{}customElements.define("hex-alpha-color-picker",bt);const mt=["color"],yt=V({__name:"ColorPicker",props:{modelValue:{},popoverButtonColor:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,n=P(),l=k({get(){return o.modelValue},set(c){c!==o.modelValue&&e("update:modelValue",c)}}),a=k(()=>{if(!n.value)return{};const c=n.value.getBoundingClientRect(),x=200,w=200,b=c.x+x-window.innerWidth,E=c.y+c.height+w-window.innerHeight;let C=0,f=c.height;return b>0&&(C=c.width-x-18),E>0&&(f=-w),{left:`${C}px`,top:`${f}px`}}),i=c=>{var x;l.value=(x=c.target)==null?void 0:x.color};return(c,x)=>(Se(),Le(K(Me),{class:"relative",as:"div"},{default:W(()=>[ee(K(Ue),{as:"div"},{default:W(()=>[te("div",{ref_key:"popoverButtonRef",ref:n,class:Ve(["w-8 h-8 rounded-lg cursor-pointer",o.popoverButtonColor]),style:he({backgroundColor:l.value})},null,6)]),_:1}),ee(K(Ze),{class:"absolute z-10",style:he(a.value)},{default:W(()=>[te("hex-alpha-color-picker",{color:l.value,onMouseup:i,onMouseout:i},null,40,mt)]),_:1},8,["style"])]),_:1}))}}),xt={class:"w-full h-full bg-slate-300"},wt={class:"w-full h-full flex flex-col justify-end items-end"},Pt=V({__name:"index",setup(t){const e=P("#1e88e5");return(o,n)=>(Se(),Ne("div",xt,[te("div",wt,[ee(yt,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l)},null,8,["modelValue"])])]))}});export{Pt as default};
