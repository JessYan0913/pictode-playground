import{i as v,p as h,r as c,o as T,w as p,g as f,E,c as S,q as B,v as F,d as g,H as w,m as P,a as C,h as $,af as R,a2 as j,b as k,f as A}from"./index-2a8edc43.js";let H=Symbol("Context");var I=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(I||{});function K(){return N()!==null}function N(){return v(H,null)}function V(e){h(H,e)}function L(e,t){if(e)return e;let l=t??"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function W(e,t){let l=c(L(e.value.type,e.value.as));return T(()=>{l.value=L(e.value.type,e.value.as)}),p(()=>{var o;l.value||f(t)&&f(t)instanceof HTMLButtonElement&&!((o=f(t))!=null&&o.hasAttribute("type"))&&(l.value="button")}),l}function m(e,t,l){E.isServer||p(o=>{document.addEventListener(e,t,l),o(()=>document.removeEventListener(e,t,l))})}function M(e,t,l){E.isServer||p(o=>{window.addEventListener(e,t,l),o(()=>window.removeEventListener(e,t,l))})}function _(e,t,l=S(()=>!0)){function o(n,a){if(!l.value||n.defaultPrevented)return;let r=a(n);if(r===null||!r.getRootNode().contains(r))return;let u=function i(d){return typeof d=="function"?i(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let i of u){if(i===null)continue;let d=i instanceof HTMLElement?i:f(i);if(d!=null&&d.contains(r)||n.composed&&n.composedPath().includes(d))return}return!B(r,F.Loose)&&r.tabIndex!==-1&&n.preventDefault(),t(n,r)}let s=c(null);m("pointerdown",n=>{var a,r;l.value&&(s.value=((r=(a=n.composedPath)==null?void 0:a.call(n))==null?void 0:r[0])||n.target)},!0),m("mousedown",n=>{var a,r;l.value&&(s.value=((r=(a=n.composedPath)==null?void 0:a.call(n))==null?void 0:r[0])||n.target)},!0),m("click",n=>{s.value&&(o(n,()=>s.value),s.value=null)},!0),m("touchend",n=>o(n,()=>n.target instanceof HTMLElement?n.target:null),!0),M("blur",n=>o(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var G=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(G||{});function z(){let e=c(0);return M("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function J(e,t,l,o){E.isServer||p(s=>{e=e??window,e.addEventListener(t,l,o),s(()=>e.removeEventListener(t,l,o))})}let O=Symbol("ForcePortalRootContext");function U(){return v(O,!1)}let Q=g({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:l}){return h(O,e.force),()=>{let{force:o,...s}=e;return w({theirProps:s,ourProps:{},slot:{},slots:t,attrs:l,name:"ForcePortalRoot"})}}});function q(e){let t=P(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let l=t.getElementById("headlessui-portal-root");if(l)return l;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)}let X=g({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:l}){let o=c(null),s=S(()=>P(o)),n=U(),a=v(x,null),r=c(n===!0||a==null?q(o.value):a.resolveTarget());p(()=>{n||a!=null&&(r.value=a.resolveTarget())});let u=v(y,null);return T(()=>{let i=f(o);i&&u&&C(u.register(i))}),C(()=>{var i,d;let b=(i=s.value)==null?void 0:i.getElementById("headlessui-portal-root");b&&r.value===b&&r.value.children.length<=0&&((d=r.value.parentElement)==null||d.removeChild(r.value))}),()=>{if(r.value===null)return null;let i={ref:o,"data-headlessui-portal":""};return $(R,{to:r.value},w({ourProps:i,theirProps:e,slot:{},attrs:l,slots:t,name:"Portal"}))}}}),y=Symbol("PortalParentContext");function Y(){let e=v(y,null),t=c([]);function l(n){return t.value.push(n),e&&e.register(n),()=>o(n)}function o(n){let a=t.value.indexOf(n);a!==-1&&t.value.splice(a,1),e&&e.unregister(n)}let s={register:l,unregister:o,portals:t};return[t,g({name:"PortalWrapper",setup(n,{slots:a}){return h(y,s),()=>{var r;return(r=a.default)==null?void 0:r.call(a)}}})]}let x=Symbol("PortalGroupContext"),Z=g({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:l}){let o=j({resolveTarget(){return e.target}});return h(x,o),()=>{let{target:s,...n}=e;return w({theirProps:n,ourProps:{},slot:{},attrs:t,slots:l,name:"PortalGroup"})}}});function ee({defaultContainers:e=[],portals:t,mainTreeNodeRef:l}={}){let o=c(null),s=P(o);function n(){var a;let r=[];for(let u of e)u!==null&&(u instanceof HTMLElement?r.push(u):"value"in u&&u.value instanceof HTMLElement&&r.push(u.value));if(t!=null&&t.value)for(let u of t.value)r.push(u);for(let u of(a=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(f(o))||r.some(i=>u.contains(i))||r.push(u));return r}return{resolveContainers:n,contains(a){return n().some(r=>r.contains(a))},mainTreeNodeRef:o,MainTreeNode(){return l!=null?null:$(A,{features:k.Hidden,ref:o})}}}export{K as C,J as E,Q as P,X as U,Y as V,Z as _,ee as a,W as b,V as c,G as d,I as l,z as n,N as p,_ as y};
